(ocamllex lexer)

(menhir
 (modules parser))

(library
 (name expr)
 (modules expr)
 (preprocess
  (pps ppx_deriving.show)))

(library
  (name lexer)
  (libraries parser)
  (modules lexer))

(library
  (name parser)
  (libraries expr)
  (modules parser))
; (executable
;  (name main)
;  (public_name main)
;  (modules main parser lexer)
;  (libraries expr))

; (test
;  (name test)
;  (modules test parser lexer)
;  (libraries ounit2 expr))

(executable
 (name ep)
 (public_name ep)
 (modules ep)
 (libraries expr))